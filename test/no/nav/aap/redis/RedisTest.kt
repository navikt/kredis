package no.nav.aap.redis

import org.junit.jupiter.api.Test
import java.net.Socket
import java.net.URI
import kotlin.test.assertEquals

//class RedisMock : AutoCloseable {
//    private val server = RedisContainer(DockerImageName.parse("redis:7.0")).apply {
//        start()
//    }
//
//    fun getURI(): String = "${server.host}:${server.exposedPorts.first()}"
//    override fun close() = server.close()
//}

class RedisTest {
//    @Test
//    fun test() {
//        val config = RedisConfig(URI("http://localhost:6379"), "", "")
//        val redis = Redis(config)
//        redis.set("a", "b".toByteArray())
//
//        assertEquals("b", String(redis.get("a")!!))
//    }
//
//    @Test
//    fun  jedisTest() {
//        val config = RedisConfig(URI.create("http://localhost:6379"), "", "")
//
//        val jedis = RedisJedis(config)
//        jedis.set("c", "b".encodeToByteArray())
//        assertEquals("b", String(jedis.get("c")!!))
//    }
}